<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Inicio de Sesion</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Muli'>
  <link rel="stylesheet" type="text/css" href="../static/css/style.css">
</head>
<body>
<div class="pt-5">
  <h1 class="text-center">LasMiches</h1>
<div class="container">
                <div class="row">
                    <div class="col-md-5 mx-auto">
                        <div class="card card-body">               
                            <form id="submitForm" action="{{url_for('login.login')}}" method="post" data-parsley-validate="" data-parsley-errors-messages-disabled="true" novalidate="" _lpchecked="1"><input type="hidden" name="_csrf" value="7635eb83-1f95-4b32-8788-abec2724a9a4">
                                <div class="form-group">
                                    <lSabel for="username">Correo o Usuario</lSabel>
                                    <input type="text" class="form-control text-lowercase" id="username"  name="username" value="" required>
                                    <div class="invalid-feedback">Por favor ingrese su nombre de Usuario o Correo</div>
                                </div>                    
                                <div class="form-group ">
                                    <label class="d-flex flex-row align-items-center" for="password">Contreseña
                                        <a class="ml-auto border-link small-xl" href="">Olvidaste tu contraseña?</a></label>
                                    <input type="password" class="form-control" id="password" name="password" value="" required>
                                    {% for mensaje in mensajes %}
                                    <div class="flash-message">{{ mensaje }}</div>
                                    {% endfor %} 
                                </div>
                                <div class="form-group mt-4 mb-4">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="remember-me" name="remember-me" data-parsley-multiple="remember-me">
                                        <label class="custom-control-label" for="remember-me">Recordarme?</label>
                                    </div>
                                </div>
                                <div class="form-group pt-1">
                                    <button class="btn btn-primary btn-block" type="submit" onclick="checkFields()">Iniciar</button>
                                </div>
                            </form>
                            <p class="small-xl pt-3 text-center">
                                <span class="text-muted">No tienes cuenta?</span>
                                <a href="{{ url_for('clientes.addclient') }}">Registrate</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            function checkFields() {
              const user = document.getElementById('username');
              const pass = document.getElementById('password')
              const userC = user.value.trim();
              const passC = pass.value.trim();
              if (userC === '' && passC === '') {
                alert('Alerta: ¡El campo "Correo o Usuario" y "Contraseña" estan vacíos! \n Acción abortada.');
                event.preventDefault();
              }else if(userC === '') {
                alert('Alerta: ¡El campo "Correo o Usuario" esta vacío! \n Acción abortada.');
                event.preventDefault();
              }else if(passC === ''){
                alert('Alerta: ¡El campo "Contraseña" esta vacío! \n Acción abortada.');
                event.preventDefault();
              }
            }
        </script>	
</body>
</html>
